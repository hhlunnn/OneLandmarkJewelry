<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>飾品網站</title>
    <link rel="stylesheet" href="../assets/CSS/item_style.css">
    <script src="https://code.iconify.design/iconify-icon/2.1.0/iconify-icon.min.js"></script>
</head>
<body>
    <header>
        <div class="logo-container">
          <a href="../index.html"><img src="../assets/image/img/logo.png" alt="網站Logo"></a>
        </div>
      </header>
      
    
      <nav>
        <ul class="navbar-nav mb-2 mb-md-0 px-4">
          <li class="nav-item mx-lg-3 pt-lg-5 dropdown">
            <a class="nav-link" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
              會員中心
            </a>
            <ul class="dropdown-menu text-center">
              <li><a class="dropdown-item" href="../pages/login.html">登入註冊</a></li>
              <li><a class="dropdown-item" href="../pages/member.html">會員中心</a></li>
            </ul>
          <li class="nav-item mx-lg-3 pt-lg-5 dropdown">
            <a class="nav-link" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
              耳環
            </a>
            <ul class="dropdown-menu text-center">
              <li><a class="dropdown-item" href="../pages/item1.html">玫瑰金心珍珠耳環</a></li>
              <li><a class="dropdown-item" href="../pages/item2.html">玫瑰金幾何耳環</a></li>
              <li><a class="dropdown-item" href="../pages/item3.html">雙色金屬耳環</a></li>
            </ul>
          </li>
          <li class="nav-item mx-lg-3 pt-lg-5 dropdown">
            <a class="nav-link" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
              項鍊
            </a>
            <ul class="dropdown-menu text-center">
              <li><a class="dropdown-item" href="../pages/item4.html">雙心鑽玫瑰金項鍊</a></li>
              <li><a class="dropdown-item" href="../pages/item5.html">紫色花瓣造型項鍊</a></li>
              <li><a class="dropdown-item" href="../pages/item6.html">圓形水鑽花瓣項鍊</a></li>
            </ul>
          </li>
          <li class="nav-item mx-lg-3 pt-lg-5 dropdown">
            <a class="nav-link" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
              手鍊
            </a>
            <ul class="dropdown-menu text-center">
              <li><a class="dropdown-item" href="../pages/item7.html">玫瑰光鑽手鍊</a></li>
              <li><a class="dropdown-item" href="../pages/item8.html">冷光晶鑽手鍊</a></li>
              <li><a class="dropdown-item" href="../pages/item9.html">月光交錯手鍊</a></li>
            </ul>
          </li>
          <li class="nav-item mx-lg-3 pt-lg-5 dropdown">
            <a class="nav-link" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
              戒指
            </a>
            <ul class="dropdown-menu text-center">
              <li><a class="dropdown-item" href="../pages/item10.html">玫瑰金交錯戒</a></li>
              <li><a class="dropdown-item" href="../pages/item11.html">白金編織戒</a></li>
              <li><a class="dropdown-item" href="../pages/item12.html">扭結造型戒</a></li>
            </ul>
          </li>

          <li class="nav-item mx-lg-3 pt-lg-5">
            <a class="nav-link d-flex align-items-center" aria-current="page" href="../pages/cart.html">購物車</a>
          </li>
    
          <li class="nav-item mx-lg-3 pt-lg-5">
            <a class="nav-link active" aria-current="page" href="../pages/problem.html">常見問題</a>
          </li>
        </ul>
     </nav>

    <article>
        <section class="card">
            <div class="flex1">
                <div class="picture">
                    <img class="item_image1" src="../assets/image/img/bracelet2.jpg" alt="Carnation">
                </div>
                <div class="flex2">
                    <div class="text">
                        <h3>品名: 冷光晶鑽細手鍊</h3>
                    </div>
                    <div class="text2">
                        <p>*設計特色：</p>
                        <p>細緻銀鍊搭配圓形鑲鑽點綴</p>
                        <p>清透亮眼，顯白又輕盈</p>
                        <br>
                        <p>*適合對象： 禮物、OL上班日常、朋友生日</p>
                        <p>*風格推薦： 冷調簡約，百搭風格不挑膚色</p>
                        <p class="price-stock">售價:NT$390／庫存:55</p>

                        <div class="quantity-wrapper">
                          <button type="button" id="decreaseQty">－</button>
                          <input type="number" id="quantityInput" value="1" min="1" />
                          <button type="button" id="increaseQty">＋</button>
                        </div>
                        <button class="add-cart-btn" id="addToCartBtn">加入購物車</button>
                    </div>
                </div>
            </div>
            
        </section>
        
        <!-- 新增評論部分 -->
        <section class="reviews">
            <h2>評論:</h2>
            <div class="review">
                <div class="review-header">
                    <span class="review-author">留言者: Zoe</span>
                    <span class="review-date">日期: 2025-05-22</span>
                    <div class="star">
                        <iconify-icon icon="mdi:star" width="40"></iconify-icon>
                        <iconify-icon icon="mdi:star" width="40"></iconify-icon>
                        <iconify-icon icon="mdi:star" width="40"></iconify-icon>
                        <iconify-icon icon="mdi:star" width="40"></iconify-icon>
                        <iconify-icon icon="mdi:star" width="40"></iconify-icon>
                    </div>
                </div>
                <p class="review-text">非常精緻，和項鍊搭配剛剛好！</p>
            </div>
            
            <div class="review">
                <div class="review-header">
                    <span class="review-author">留言者: 阿強</span>
                    <span class="review-date">日期: 2025-05-23</span>
                    <div class="star">
                        <iconify-icon icon="mdi:star" width="40"></iconify-icon>
                        <iconify-icon icon="mdi:star" width="40"></iconify-icon>
                        <iconify-icon icon="mdi:star" width="40"></iconify-icon>
                        <iconify-icon icon="mdi:star-outline" width="40"></iconify-icon>
                        <iconify-icon icon="mdi:star-outline" width="40"></iconify-icon>
                    </div>
                </div>
                <p class="review-text">手鍊容易轉圈，有點不順手。</p>
            </div>

            <!-- 新增留言表單 -->
            <div class="card2">
                <form id="comment-form" class="comment-form">
                  <label for="comment-name">姓名:</label><br>
                  <input type="text" id="comment-name" name="comment-name"><br>
              
                  <label for="comment-content">評論:</label><br>
                  <textarea id="comment-content" name="comment-content" rows="10" cols="70"></textarea><br>
              
                  <label for="comment-rating">星等:</label><br>
                  <div class="star-rating" id="comment-rating">
                    <iconify-icon icon="mdi:star" width="40" data-index="1" class="star-icon" onclick="setRating(1)"></iconify-icon>
                    <iconify-icon icon="mdi:star" width="40" data-index="2" class="star-icon" onclick="setRating(2)"></iconify-icon>
                    <iconify-icon icon="mdi:star" width="40" data-index="3" class="star-icon" onclick="setRating(3)"></iconify-icon>
                    <iconify-icon icon="mdi:star" width="40" data-index="4" class="star-icon" onclick="setRating(4)"></iconify-icon>
                    <iconify-icon icon="mdi:star" width="40" data-index="5" class="star-icon" onclick="setRating(5)"></iconify-icon>
                  </div><br>


                    <script>
                    let currentRating = 0;
                
                    function setRating(rating) {
                    currentRating = rating;
                    const stars = document.querySelectorAll('.star-rating .star-icon');
                    stars.forEach((star, index) => {
                        if (index < rating) {
                        star.classList.add('active');
                        star.setAttribute('icon', 'mdi:star');
                        } else {
                        star.classList.remove('active');
                        star.setAttribute('icon', 'mdi:star-outline');
                        }
                    });
                    }

                    function toggleMemberDropdown(event) {
                      event.preventDefault();
                      const drop = document.getElementById('memberDropdown');
                      drop.style.display = drop.style.display === 'block' ? 'none' : 'block';
                    }
                    document.addEventListener('click', function(e) {
                      const drop = document.getElementById('memberDropdown');
                        if (drop && drop.style.display === 'block') {
                          if (!drop.contains(e.target) && !e.target.closest('a[onclick="toggleMemberDropdown(event)"]')) {
                            drop.style.display = 'none';
                          }
                        }
                    });

                    if (!localStorage.getItem('cartData')) {
                      localStorage.setItem('cartData', JSON.stringify([]));
                    }
                    const decreaseBtn = document.getElementById('decreaseQty');
                    const increaseBtn = document.getElementById('increaseQty');
                    const qtyInput = document.getElementById('quantityInput');
                    decreaseBtn.addEventListener('click', () => {
                      let current = parseInt(qtyInput.value, 10);
                      if (isNaN(current) || current < 1) current = 1;
                      if (current > 1) {
                        qtyInput.value = current - 1;
                      }
                    });

                    increaseBtn.addEventListener('click', () => {
                      let current = parseInt(qtyInput.value, 10);
                      if (isNaN(current) || current < 1) current = 1;
                      qtyInput.value = current + 1;
                    });


                    document.getElementById('addToCartBtn').addEventListener('click', () => {
                      const qty = parseInt(qtyInput.value, 10);
                      if (isNaN(qty) || qty < 1) {
                        alert('數量必須至少 1');
                        qtyInput.value = 1;
                        return;
                      }

                      const product = {
                        id: 'item8',
                        title: '冷光晶鑽細手鍊',
                        price: 390,
                        img: '../assets/image/img/item8.jpg',
                        qty: qty
                      };

                      let cart = JSON.parse(localStorage.getItem('cartData') || '[]');
                      const existingIndex = cart.findIndex(item => item.id === product.id);
                      if (existingIndex > -1) {
                        cart[existingIndex].qty += product.qty;
                      } else {
                        cart.push(product);
                      } 
                      localStorage.setItem('cartData', JSON.stringify(cart));
                      alert(`已將 ${qty} 件「${product.title}」加入購物車！`);
                    });

                    document.getElementById('comment-form').addEventListener('submit', e => {
                      e.preventDefault();
                      const name = document.getElementById('comment-name').value.trim();
                      const content = document.getElementById('comment-content').value.trim();
                      if (!name || !content || currentRating === 0) {
                        alert('請填寫姓名、評論內容並給予星等');
                      return;
                    }
                    alert('感謝您的評論！');
                    document.getElementById('comment-form').reset();
                    setRating(0);
                  });
                    </script>

    </article>

    <footer>
      <h4>桃園市中壢區中北路200號 TEL:0912345678</h4>
      <p><a href="../pages/payment.html">付款方式</a></p>
      <p><a href="../pages/return.html">退貨款政策</a></p>
    </footer>
   
    
</body>
</html>